<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=2">
    <meta name="application-name" content="Crooms Bell Schedule">
    <meta name="description" content="The Crooms Bell Schedule features an interactive bell schedule applet that keeps track of your periods and the time remaining in the period.">
    <meta name="keywords" content="crooms, bell schedule, CAIT, bell, schedule, CAoIT, Crooms Academy, Crooms Academy of Information Technology">
    <!-- OpenGraph/Social Media Sharing -->
    <meta name="og:description" content="The Crooms Bell Schedule features an interactive bell schedule applet that keeps track of your periods and the time remaining in the period.">
    <meta property="og:image" content="/favicon.ico">
    <meta property="og:title" content="Crooms Bell Schedule">
    <meta name="twitter:card" content="summary">
    <!-- End OpenGraph -->
    <title>Crooms Bell Schedule</title>
    <link rel="stylesheet" type="text/css" href="style-root.css">
      <link rel="stylesheet" type="text/css" href="fa.css">
  </head>
  <body id="body" onload="main()">
    <header style="user-select:none;">
      <nav style="margin-top: 0px; margin-left: 0px; margin-right: 0px;">
        <ul class="navbar">
          <li id="navbutton1" class="navbutton"><a class="nolink">Crooms Bell Schedule</a></li>
          <li id="navbutton2" class="navbutton" onclick="main()"><a id="nav2">Home</a></li>
          <li id="navbutton4" class="navbutton" onclick="community()"><a>Community</a></li>
          <li id="navbutton5" class="navbutton" onclick="poll()"><a id="link3">Daily Poll</a></li>
          <li id="navbutton6" class="navbutton" style="float:right"><a onclick="window.location.href = '/download/'">Schedule App</a></li>
        </ul>
        <div id="dp-shell-dialog" class="top-shell-dialog" height="300" style="width: 157px; padding: 0%;" hidden>
          <ul class="winbar"><li class="navbutton"><a onclick="window.open('/sched/','bellschwin','status=0,toolbar=0,location=0,height=65,width=350')">Not on Windows?</a></li></ul>
        </div>
      </nav><br><br>
      <div id="top-separator" style="padding-top: 5px; padding-bottom: 8px;">
        <p style="margin: 0;"><span id="random" onclick="document.getElementById('senseless').removeAttribute('hidden');document.getElementById('random').setAttribute('class','noactive');">
          Today's random and senseless quip is...</span>
          <i><span id="senseless" hidden><i class="fa-solid fa-spinner fa-spin loader"></i></span></i>
        </p>
      </div>
    </header>
    <div id="toosmall">
      <h3>Your device's screen is too small.</h3>
      <p>To use our website, please browse on a larger display.</p>
    </div>
    <main style="padding-bottom: 50px;">
      <div id="loading" style="position: fixed; top: 50%; left: 50%; transform: translateY(-50%); padding: 10px;">
        <i class="fa-solid fa-spinner fa-spin" id="loader"></i>
      </div>
      <div id="host" style="display: none;">
        <h1 style="margin-bottom: 0px;">You're offline</h1>
        <p style="margin-top: 0px;">Since we didn't have a cached copy of the site on your device, we had to load this page instead. ☹️</p>
      </div>
    </main>
    <footer style="user-select: none;">
      <ul class="footbar">
        <li id="copyrights" class="mininavbutton"><a class="nolink">Copyleft Andrew Jennings</a></li>
        <li id="github-link" class="mininavbutton" onclick="window.open('https://github.com/ajcoolcat/croomssched')" title="View on GitHub"><a class="links" id="githubLogo"  style="padding-left: 30px;padding-right: 7.5px;padding-top: 21px;padding-bottom: 17px;background-image: url(./github-mark.svg);background-repeat: no-repeat;background-size: 16px;background-position: center;"></a></li>
        <li id="time-shell-dialog-trigger" class="mininavbutton" style="float:right"><a id="datetime"></a></li>
      </ul>
      <div hidden id="time-shell-dialog" class="shell-dialog" height="300" style="width: 355px;">
        <iframe src="sched/" width="100%" height="70" scrolling="no" marginwidth="0" frameborder="0"></iframe>
        <p style="font-size: 8pt;"><a class="links" onclick="feedback()">Submit Feedback</a> <a class="links" href="/download/">Download App</a></p>
      </div>
      <div hidden id="copy-shell-dialog" class="copy-shell-dialog" style="width:400px;">
        <h3>Crooms Bell Schedule Website</h3>
        <p>Homepage developed by Andrew Jennings.</p>
        <p>Bell schedule applet developed by Andrew Jennings and Suvan Mangamuri.</p>
        <h4 style="margin-top:8px;">Terms of Service</h4>
        <p><a class="links" href="terms/">Terms of Service</a></p>
        <p><a class="links" href="terms/acg/">Acceptable Content Guidelines</a></p>
        <p><a class="links" href="terms/feed/">Feed Guidelines</a></p>
      </div>
    </footer>
    <div id="alert" class="modal" style="display: none; user-select: none; z-index: 4;">
      <div class="alert-box" style="user-select: none;">
        <div class="details">
          <p style="text-align: center; font-size: 1.3em; font-weight: 600; letter-spacing: 0.3px;" title-content></p>
          <p style="text-align: center; font-size: 0.8em;" text-content></p>
          <p style="text-align:center;"><button onclick="document.getElementById('alert').style.display = 'none'">OK</button></p>
        </div>
      </div>
    </div>
    <context-menu menu-id="main">
      <menu-item role="back" onclick="document.querySelector('[menu-id=main]').style.display = 'none'; history.back()"><i class="fa-solid fa-arrow-left"></i>Back</menu-item>
      <menu-item role="forward" onclick="document.querySelector('[menu-id=main]').style.display = 'none'; history.forward()"><i class="fa-solid fa-arrow-right"></i>Forward</menu-item>
      <menu-item role="reload" onclick="document.querySelector('[menu-id=main]').style.display = 'none'; location.reload()"><i class="fa-solid fa-arrow-rotate-right"></i>Reload</menu-item>
      <hr style="margin: 5px 10px;">
      <menu-item role="copy" onclick="document.querySelector('[menu-id=main]').style.display = 'none'"><i class="fa-solid fa-clipboard"></i>Copy</menu-item>
      <menu-item role="share" onclick='share(document.querySelector("[menu-id=main]"))''><i class="fa-solid fa-share"></i>Share</menu-item>
      <menu-item role="more" onclick="openWindowLink(); document.querySelector('[menu-id=main]').style.display = 'none';"><i class="fa-solid fa-circle-plus"></i>View More Info</menu-item>
    </context-menu>
    <context-menu menu-id="random" style="z-index: 3;">
      <menu-item><em style="opacity: 0.4;">You're offline</em></menu-item>
    </context-menu>
    <note id="share-clipboard-note">Link was copied to the clipboard.<note>
    <script>
        let root = document.querySelector(':root');
        let rootStyles = getComputedStyle(root);

        let Settings = {};
        const darkThemeMq = window.matchMedia("(prefers-color-scheme: dark)");
        if (darkThemeMq.matches) {
        root.style.setProperty("--theme", "dark");
        } else {
        root.style.setProperty("--theme", "light");
        }

        console.load = (value) => {window.$value = value;}

        function feedback() {
        window.open("https://docs.google.com/forms/d/e/1FAIpQLSdi1UT8oGpJXhHpdzMpTUoZjGBHES0Rub7xJxGALzL8XXFPSA/viewform");
        }

        function poll() {
        window.open("https://croomssched.glitch.me/poll","poll","status=0,toolbar=0,location=0,width=560,height=650");
        }

        function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min) + min); // The maximum is exclusive and the minimum is inclusive
        }

        function ad() {
        let id = getRandomInt(1,3);
        if (id == 1) {
            window.open("/ads/softram/","ad","status=0,toolbar=0,location=0,width=400,height=300,popup=true");
        } else if (id == 2) {
            window.open("//ads.google.com/", "ad", "status=0,toolbar=0,location=0,width=400,height=300,popup=true");
        }
        }

        function share(triggerElement) {
        try {
            navigator.share({
            title: document.querySelector("title").innerText,
            text: document.querySelector("meta[name=description").content.toString(),
            url: window.location.href
            })
        } catch {
            navigator.clipboard.writeText(window.location.href);
            document.getElementById("share-clipboard-note").style.display = "block"
            document.getElementById("share-clipboard-note").style.opacity = "1";
            document.getElementById("share-clipboard-note").style.animation = "0.5s linear fadein";
            setTimeout(() => {
            document.getElementById("share-clipboard-note").style.animation = "0.5s linear fadeout";
            setTimeout(() => {
                document.getElementById("share-clipboard-note").style.opacity = "0";
                document.getElementById("share-clipboard-note").style.display = "none";
            }, 500)
            }, 5000);
        } finally {
            triggerElement.style.display = "none";
        }
        }

        let mousePos;

        document.onmousemove = handleMouseMove;

        function handleMouseMove(event) {
        var dot, eventDoc, doc, body, pageX, pageY;

        if (event.pageX == null && event.clientX != null) {
        eventDoc = (event.target && event.target.ownerDocument) || document;
        doc = eventDoc.documentElement;
        body = eventDoc.body;

        event.pageX = event.clientX +
            (doc && doc.scrollLeft || body && body.scrollLeft || 0) -
            (doc && doc.clientLeft || body && body.clientLeft || 0);
        event.pageY = event.clientY +
            (doc && doc.scrollTop  || body && body.scrollTop  || 0) -
            (doc && doc.clientTop  || body && body.clientTop  || 0 );
        }

        mousePos = {
            x: event.pageX,
            y: event.pageY
        };
        }

        function setRightClick(targetElement, targetMenuElement) {
        targetMenuElement.addEventListener('contextmenu', function(e) {e.preventDefault();}, false);

        targetElement.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            if (window.location.pathname == "/") {
            if (window.getSelection() != '') {document.querySelector("[menu-id=main] [role=copy]").style.display = 'block';}
            else {document.querySelector("[menu-id=main] [role=copy]").style.display = 'none';}

            var elementsUnderMouse = document.elementsFromPoint(mousePos.x, mousePos.y);
            console.log(elementsUnderMouse);
            for(let item of elementsUnderMouse){
                if (item.id == "lunch") {link = showMoreInfo("https://fs3.scps.k12.fl.us/menu/1_HS.pdf"); break;}
                else if (item.id == "weather") {link = showMoreInfo("https://forecast.weather.gov/MapClick.php?lon=-81.28981590270996&lat=28.801779923490415"); break;}
                else if (item.id == "quick-bits") {link = showMoreInfo("https://linustechtips.com/forum/13-tech-news/"); break;}
                else {document.querySelector("[menu-id=main] [role=more]").style.display = 'none';}
            }
            }

            targetMenuElement.style.display = "block";
            targetMenuElement.style.top = mouseY(e) + 'px';
            targetMenuElement.style.left = mouseX(e) + 'px';
        }, false);

        targetElement.addEventListener('mousedown', function() {
            targetMenuElement.style.display = "none";
        }, false);

        targetMenuElement.addEventListener('mousedown', function(e) {
            e.preventDefault();
            e.target.click();
        })

        document.querySelector("header").addEventListener('mousedown', function() {targetMenuElement.style.display = "none"});
        document.querySelector("main").addEventListener('mousedown', function() {targetMenuElement.style.display = "none"});
        document.querySelector("footer").addEventListener('mousedown', function() {targetMenuElement.style.display = "none"});
        }

        function mouseX(e) {
        if (e.pageX) {
            return e.pageX;
        } else if (e.clientX) {
            return e.clientX + (document.documentElement.scrollLeft ?
            document.documentElement.scrollLeft :
            document.body.scrollLeft);
        } else {
            return null;
        }
        }

        function mouseY(e) {
        if (e.pageY) {
            return e.pageY;
        } else if (e.clientY) {
            return e.clientY + (document.documentElement.scrollTop ?
            document.documentElement.scrollTop :
            document.body.scrollTop);
        } else {
            return null;
        }
        }

        let link = "//www.google.com";

        function showMoreInfo(newlink) {
        document.querySelector("[menu-id=main] [role=more]").style.display = 'block';
        return newlink;
        }

        function openWindowLink() {
        let linkCheck = window.open(link);
        let linkClosedInterval = setInterval(() => {if (linkCheck.closed) {clearInterval(linkClosedInterval);}},50);
        }

        function copyText() {
        navigator.clipboard.writeText(window.getSelection().toString());
        }
    </script>
    <script>
        function main() {
            document.getElementById("host").style.display = "block";
            document.getElementById("calendar").style.display = "none";
            document.getElementById("special").style.display = "none";
            document.getElementById("loading").style.display = "none";
            document.getElementById("nav2").className = "active";
            //document.getElementById("link2").className = "navlink";
            document.getElementById("link3").className = "navlink";
        }

        function alertClient(title, text) {
        document.querySelector("#alert [title-content]").innerText = title;
        document.querySelector("#alert [text-content]").innerText = text;
        document.getElementById("alert").style.display = "block";
        }

        const welcomeExperience = () => {
        document.getElementById("alert").innerHTML = '' +
            '<div class="details">' +
                '<p style="text-align: center; font-size: 1.3em; font-weight: 600; letter-spacing: 0.3px;">Welcome</p>' +
                '<p style="text-align: center; font-size: 0.8em;">You made it to the new hosting site for the Crooms Bell Schedule! <br> The bell schedule is now <a class="links" href="https://github.com/ajcoolcat/croomssched" target="_blank">open-source</a>, so if there\'s any bugs, make an "issue" (or a <a class="links" href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests" target="_blank">pull-request</a> if you think you can fix it yourself) on the GitHub repository. ' +
                '<br><br>You also might want to update your bookmarks for the site. <br><br> Anyways, welcome, and enjoy the uninterrupted experience of the new Crooms Bell Schedule website.</p>' +
                '<p style="text-align:center;">' +
                '<button onclick="alertClient(false,null,null)">Close</button>' +
                '</p>' +
            '</div>'
        document.getElementById("alert").style.display = "block";
        }

        document.body.onload = () => {
        let params = new URL(document.location).searchParams;
            if (params.get("welcomeExperience") === "true") {
                welcomeExperience();
            }
        }

        document.addEventListener('contextmenu', (e) => {e.preventDefault();});
        setRightClick(document.querySelector("main"), document.querySelector("[menu-id=main]"));
        setRightClick(document.getElementById("top-separator"), document.querySelector("[menu-id=main]"));
        setRightClick(document.querySelector("ul.navbar"), document.querySelector("[menu-id=random]"));
        main();
    </script>
  </body>
</html>